{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Maxim.Karpov\\\\cypress\\\\react\\\\veriboy\\\\src\\\\pages\\\\Scena.js\",\n    _s3 = $RefreshSig$();\n\nimport React, { useRef, Suspense, useEffect, useState, useMemo } from 'react';\nimport { Canvas, useFrame, useThree } from 'react-three-fiber';\nimport * as THREE from \"three\";\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport Grid from '../components/world/Grid';\nimport House from '../components/world/House';\nimport Houses from '../components/world/Houses';\nimport Flags from '../components/world/Flags';\nimport './page.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Scena = props => {\n  _s3();\n\n  var _s = $RefreshSig$(),\n      _s2 = $RefreshSig$();\n\n  const style = {\n    width: '100%',\n    height: '85vh',\n    background: 'black'\n  };\n  var [position, setPosition] = useState([0, -0.03, 1]);\n  var [dir, setDir] = useState(new THREE.Vector3(0, 0, 0));\n  var [speed, setSpeed] = useState(0);\n  var [aspect, setAspect] = useState(0);\n  var [vaspect, setVaspect] = useState(0);\n  var [rad, setRad] = useState(0.08);\n  var [grids, setGrids] = useState([]);\n  var [flags, setFlags] = useState([[5, -1], [5, 0], [5, 1], [5, 2], [5, 3], [5, 4], [5, 5], [5, 6], [5, 7], [5, 8], [5, 9], [5, 10], [5, 11], [6, 0]]);\n  var [map, setMap] = useState({\n    urls: [\"/house1.glb\", \"/house1.glb\", \"/house1.glb\", \"/house1.glb\", \"/house2.glb\", \"/house2.glb\", \"/house2.glb\", \"/house2.glb\"],\n    pos: [[3, -0.5, 1], [3, -0.5, 4], [3, -0.5, 7], [3, -0.5, 10], [7, -0.5, 1], [7, -0.5, 4], [7, -0.5, 7], [7, -0.5, 10]]\n  });\n\n  const Building = props => {\n    _s();\n\n    const [house, set] = useState();\n    useMemo(() => new GLTFLoader().load(\"../../textures/models/house.glb\", set));\n    return house ? /*#__PURE__*/_jsxDEV(\"primitive\", {\n      object: house.scene,\n      position: props.position\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 20\n    }, this) : null;\n  };\n\n  _s(Building, \"d7tzoB3GYBYJpNSc86jO2nKNI/U=\");\n\n  function DirectionalLight() {\n    return /*#__PURE__*/_jsxDEV(\"directionalLight\", {\n      intensity: 3.5,\n      position: (1, 5, 2),\n      color: \"#FFFFFF\",\n      castShadow: true,\n      \"shadow-mapSize-height\": 112,\n      \"shadow-mapSize-width\": 112\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this);\n  }\n\n  function Light({\n    brightness,\n    color\n  }) {\n    return /*#__PURE__*/_jsxDEV(\"hemisphereLight\", {\n      width: 3,\n      height: 3,\n      intensity: brightness,\n      color: color,\n      position: [5, 1, 4],\n      lookAt: [0, 0, 0],\n      penumbra: 2,\n      castShadow: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  }\n\n  const keydown = event => {\n    var key = event.key;\n\n    if (key === 'ArrowUp') {\n      setSpeed(0.1);\n    }\n\n    if (key === 'ArrowDown') {\n      setSpeed(-0.1);\n    }\n\n    if (key === 'ArrowLeft') {\n      setAspect(aspect + rad);\n    }\n\n    if (key === 'ArrowRight') {\n      setAspect(aspect - rad);\n    }\n\n    if (key === 'q') {\n      setVaspect(vaspect + rad);\n    }\n\n    if (key === 'w') {\n      setVaspect(vaspect - rad);\n    }\n  };\n\n  const keyup = event => {\n    setSpeed(0);\n  };\n\n  const Camera = props => {\n    _s2();\n\n    const ref = useRef();\n    const {\n      setDefaultCamera\n    } = useThree();\n    useEffect(() => void setDefaultCamera(ref.current), []);\n    useFrame(() => {\n      if (ref.current) {\n        ref.current.rotation.y = aspect;\n        ref.current.rotation.x = vaspect;\n        ref.current.getWorldDirection(dir);\n        ref.current.position.addScaledVector(dir, speed);\n        setPosition(ref.current.position);\n      }\n    });\n    return /*#__PURE__*/_jsxDEV(\"perspectiveCamera\", {\n      ref: ref,\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 12\n    }, this);\n  };\n\n  _s2(Camera, \"Nz84//OzuOwrquswv6Kw9u2IaQM=\", false, function () {\n    return [useThree, useFrame];\n  });\n\n  const houses = [[6, -0.5, 4], [8, -0.5, 4]];\n  return /*#__PURE__*/_jsxDEV(Canvas, {\n    colorManagement: true,\n    shadowMap: true,\n    style: style,\n    tabIndex: \"0\",\n    onKeyDown: keydown,\n    onKeyUp: keyup,\n    children: [/*#__PURE__*/_jsxDEV(Camera, {\n      position: position\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Light, {\n      brightness: 0.7,\n      color: \"#FFFFFF\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DirectionalLight, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: \"Loading\"\n      }, void 0, false),\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        width: 10,\n        length: 10,\n        flags: flags\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: \"Loading\"\n      }, void 0, false),\n      children: /*#__PURE__*/_jsxDEV(Houses, {\n        map: map\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: \"Loading\"\n      }, void 0, false),\n      children: /*#__PURE__*/_jsxDEV(Flags, {\n        flags: flags\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 9\n  }, this);\n};\n\n_s3(Scena, \"5YowGeJvhaNTChxwSgm1XcZ8hdU=\");\n\n_c = Scena;\nexport default Scena;\n\nvar _c;\n\n$RefreshReg$(_c, \"Scena\");","map":{"version":3,"sources":["C:/Users/Maxim.Karpov/cypress/react/veriboy/src/pages/Scena.js"],"names":["React","useRef","Suspense","useEffect","useState","useMemo","Canvas","useFrame","useThree","THREE","GLTFLoader","Grid","House","Houses","Flags","Scena","props","style","width","height","background","position","setPosition","dir","setDir","Vector3","speed","setSpeed","aspect","setAspect","vaspect","setVaspect","rad","setRad","grids","setGrids","flags","setFlags","map","setMap","urls","pos","Building","house","set","load","scene","DirectionalLight","Light","brightness","color","keydown","event","key","keyup","Camera","ref","setDefaultCamera","current","rotation","y","x","getWorldDirection","addScaledVector","houses"],"mappings":"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","sourcesContent":["import React, {useRef, Suspense,  useEffect, useState, useMemo} from 'react'\r\nimport {Canvas, useFrame, useThree } from 'react-three-fiber'\r\nimport * as THREE from \"three\";\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader'\r\nimport Grid from '../components/world/Grid'\r\nimport House from '../components/world/House'\r\nimport Houses from '../components/world/Houses'\r\nimport Flags from '../components/world/Flags'\r\nimport './page.css';\r\n\r\nconst Scena = (props) => {\r\n\r\nconst style = {\r\n    width: '100%',\r\n    height: '85vh',\r\n    background: 'black'\r\n}\r\n\r\nvar [position, setPosition] = useState([0,-0.03,1])\r\nvar [dir, setDir] = useState(new THREE.Vector3(0,0,0));\r\nvar [speed, setSpeed] = useState(0);\r\nvar [aspect, setAspect] = useState(0);\r\nvar [vaspect, setVaspect] = useState(0);\r\nvar [rad, setRad] = useState(0.08);\r\n\r\nvar [grids, setGrids] = useState([]);\r\nvar [flags, setFlags] = useState([[5,-1],[5,0],[5,1],[5,2],[5,3],[5,4],[5,5],[5,6],[5,7],[5,8],[5,9],[5,10],[5,11]\r\n,[6,0]]);\r\n\r\nvar [map, setMap] = useState({urls:[\"/house1.glb\", \"/house1.glb\", \"/house1.glb\", \"/house1.glb\",\"/house2.glb\", \"/house2.glb\", \"/house2.glb\", \"/house2.glb\"], \r\npos: [[3,-0.5,1],[3,-0.5,4],[3,-0.5,7],[3,-0.5,10],[7,-0.5,1],[7,-0.5,4],[7,-0.5,7],[7,-0.5,10]]});\r\n\r\n\r\nconst Building = (props) => {\r\n    const [house, set] = useState();\r\n    useMemo(() => new GLTFLoader().load(\"../../textures/models/house.glb\", set));\r\n\r\n    return house ? <primitive object={house.scene} position={props.position}/> : null;\r\n}\r\n\r\nfunction DirectionalLight() {\r\n    return (\r\n        <directionalLight\r\n        intensity={3.5}\r\n        position={1,5,2}\r\n        color={\"#FFFFFF\"}\r\n        castShadow\r\n        shadow-mapSize-height={112}\r\n        shadow-mapSize-width={112}\r\n        />\r\n    )\r\n}\r\n\r\n\r\n\r\nfunction Light({ brightness, color }) {\r\n    return (\r\n      <hemisphereLight\r\n        width={3}\r\n        height={3}\r\n        intensity={brightness}\r\n        color={color}\r\n        position={[5, 1, 4]}\r\n        lookAt={[0, 0, 0]}\r\n        penumbra={2}\r\n        castShadow\r\n      />\r\n    );\r\n  } \r\n\r\nconst keydown = (event) => {\r\n    var key = event.key;\r\n\r\n    if(key === 'ArrowUp') {\r\n        setSpeed(0.1);\r\n\r\n    }\r\n    if(key === 'ArrowDown') {\r\n        setSpeed(-0.1);\r\n    }\r\n    if(key === 'ArrowLeft') {\r\n        setAspect(aspect + rad);\r\n    }\r\n    if(key === 'ArrowRight') {\r\n        setAspect(aspect - rad);\r\n    }\r\n    if(key === 'q') {\r\n        setVaspect(vaspect + rad)\r\n    }\r\n    if(key === 'w') {\r\n        setVaspect(vaspect - rad)\r\n    } \r\n\r\n\r\n}\r\n\r\nconst keyup = (event) => {\r\n\r\n    setSpeed(0);\r\n\r\n}\r\n\r\n\r\n\r\nconst Camera = (props) => {\r\n    const ref = useRef();\r\n    const {setDefaultCamera} = useThree()\r\n\r\n    useEffect(() => void setDefaultCamera(ref.current), [])\r\n\r\n    useFrame(() => {\r\n        if (ref.current) {\r\n            ref.current.rotation.y = aspect;\r\n            ref.current.rotation.x = vaspect;\r\n            ref.current.getWorldDirection(dir);\r\n            ref.current.position.addScaledVector(dir, speed);\r\n            setPosition(ref.current.position); \r\n        }\r\n        \r\n\r\n    })\r\n\r\n    return <perspectiveCamera ref={ref} {...props} />\r\n}\r\n\r\nconst houses = [[6,-0.5,4],[8,-0.5,4]] \r\n\r\n\r\n    return (\r\n        <Canvas colorManagement shadowMap style={style} tabIndex=\"0\" onKeyDown={keydown} onKeyUp={keyup}>\r\n            <Camera position={position} />\r\n            <Light brightness={0.7} color={\"#FFFFFF\"}  />\r\n            <DirectionalLight />\r\n            <Suspense fallback={<>Loading</>}>\r\n                <Grid width={10} length={10} flags={flags} />\r\n            </Suspense> \r\n            <Suspense fallback={<>Loading</>}>\r\n                <Houses map={map} />\r\n            </Suspense>\r\n            <Suspense  fallback={<>Loading</>} >\r\n                <Flags flags={flags}/>\r\n            </Suspense>\r\n            \r\n            \r\n        </Canvas>\r\n    )\r\n}\r\n\r\nexport default Scena\r\n "]},"metadata":{},"sourceType":"module"}